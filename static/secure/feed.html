<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-2.2.3.js" integrity="sha256-laXWtGydpwqJ8JA+X9x2miwmaiKhn8tVmOVEigRNtP4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-rc.1/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.1/moment.min.js"></script>
    <link rel="stylesheet" href="/style/normalize.css">
    <link rel="stylesheet" href="/style/bootstrap.min.css">
    <link rel="stylesheet" href="/style/style.css">
    <link rel="stylesheet" href="/style/oneRoof-style.css">
    <script src="/js/feed.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/feed.js"></script>
    <script src="/js/tabs.js"></script>

</head>

<body ng-app="users" ng-controller="UserController">

    <div id="sidebar-list" class="smallSidebar sidebar">
		<div class ="home-button sidebar-btn">
            <img ng-click="imageClick()" src="./img/newlogo2-04.png" width="48" height="48">
        </div>
        <div id="f" class="home-button sidebar-btn" ng-init="todo='./img/icon/sidebar-icons/todo-white.png'" ng-mouseover="todo='./img/icon/sidebar-icons/todo-purple.png'" ng-mouseout="todo='./img/icon/sidebar-icons/todo-white.png'">
            <img ng-click="imageClick('f')" src="{{todo}}"/>
        </div>
        <div id="r" class="home-button sidebar-btn" ng-init="roomease='./img/icon/sidebar-icons/roommates-white.png'" ng-mouseover="roomease='./img/icon/sidebar-icons/roommates-purple.png'" ng-mouseout="roomease='./img/icon/sidebar-icons/roommates-white.png'">
            <img ng-click="imageClick('r')" src="{{roomease}}"/>
        </div>
        <div id="h" class="home-button sidebar-btn" ng-init="houseS='./img/icon/sidebar-icons/house-white.png'" ng-mouseover="houseS='./img/icon/sidebar-icons/house-purple.png'" ng-mouseout="houseS='./img/icon/sidebar-icons/house-white.png'">
            <img ng-click="imageClick('h')" src="{{houseS}}"/>
        </div>
        <div id="a" class="home-button sidebar-btn" ng-init="imgsrc='./img/icon/sidebar-icons/account-white.png'" ng-mouseover="imgsrc='./img/icon/sidebar-icons/account-purple.png'" ng-mouseout="imgsrc='./img/icon/sidebar-icons/account-white.png'">
            <img ng-click="imageClick('a')" src="{{imgsrc}}"/>
        </div>
    <!-- 	<label for="radio1" class = "sidebar-link text-center">
    		<img src="./img/icon/user-silhouette.png">
    	</label>		
    	<input type="radio" value="personal" name="radio1" id="radio1" checked>
    	
    	<label for="radio2" class = "sidebar-link text-center">
    		<img src="./img/icon/users-group.png">
    	</label>
    	<input type="radio" value="house" name="radio2" id="radio2"> -->


    </div>

    <div id="header" class="navbar-fixed-top headline box-down">
		<div class="links">
			<div class="head-link col-md-3">
				<a href="feed.html"><span class="logo">OneRoof</span></a>
			</div>
            <div id="page-header" class="col-md-4 logo" style="margin:0">{{activePage}}</div>
			<div class="col-md-5">
                    <div class="head-link sign-out">
                        <!--<a href="/settings.html" class="btn btn-primary">Settings</a>-->
                        <a href="/api/signout" class="btn btn-danger">Sign out!</a>
                    </div>
                    <!--<div class="head-link prof-link">
    					<a href="profile.html" ng-click="loadProf()">
    					<div ng-show="defaultPic">
    						<img src="img/icon/miner.png" alt="Your Profile" width= "48" height="48">
    					</div>
    					<div ng-hide="defaultPic">
    						<img ng-Src="./{{ userPic }}" />
    					</div></a>
    				</div>-->
                </div>
			</div>	
		</div>
    </div>
    
    <div id="instructionModal" class="modal fade" role="dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">Welcome to OneRoof!</h4>
            </div>
            <div class="modal-body">
                <div id="firstInstructions" ng-show="showFirstHouseQuestion">
                    <h4>Are you part of an existing house?</h4>
                    <button type="button" class="btn btn-success" ng-click="confirmExistingHouse()">Yes</button>
                    <button type="button" class="btn btn-danger" ng-click="noHouse()">No</button>
                </div>
                <div id="createHouse" ng-show="showCreateHouse">
                    <h4>Please Enter a name for your new house.</h4>
                    <input class="form-control" placeholder="House Name" ng-model="modalHouseName" required>
                    <button type="button" class="btn btn-danger">Back</button>
                    <button type="button" class="btn btn-info" ng-click="createHouse()">Create House</button>
                </div>
                <div id="enterCode" ng-show="showHouseCodeEntry">
                    <input class="form-control" placeholder="Enter House Code" ng-model="modalHouseCode" required>
                    <button type="button" class="btn btn-danger">Back</button>
                    <button type="button" class="btn btn-info" ng-click="joinHouse()">Join House</button>
                </div>
                <div id="showCode" ng-show="showCode">
                    <h2>You have sucessfully created a new house!</h2>
                    <p>Share the code below with your friends so they can join you!</p>
                    <p>You can find this later in the accounts section.</p>
                    <h2> {{ generatedHouseCode }}</h2>
                    <button type="button" class="btn btn-success" ng-click="oneOverview()">Continue</button>
                </div>
                <div id="joinSuccess" ng-show="showJoinSuccess">
                    <h2>You have successfully joined a house!</h2>
                    <button type="button" class="btn btn-success" ng-click="oneOverview()">Continue</button>
                </div>
                <div id="" ng-show="">
                    <h2>Well now that you are in a house, its time to introduce you to OneRoof</h2>
                    <p>OneRoof works to help simplify coordinating your roommates and keep them accountable.</p>
                </div>
            </div>
        </div>
    </div>
    <div id="content-page" class="container">
        <row>
            <!--Content Columns-->
            <div id="content-overview" class="col-md-3 col-sm-4 col-xs-3">
                <div id="feed-overview" ng-show="feedOver" class="tasks">
                    <row>
                        <ul id="task-menu">
                            <li id="tasks-p">Personal</li>
                            <li id="tasks-g">Group</li>
                            <li id="tasks-h">History</li>
                        </ul>
                    </row>

                    <!--<row>
                        <input type="checkbox" name="history" value="history" ng-model="history" ng-click="changeStatus()">See Completed Tasks<br></row>
                        <div class="headerWord text-center">
                            <b>Tasks</b>
                        </div>
                    </row>-->

                    <row>
                        <div>
                            <div id="choreBoard">
                                <ul id="feed-list">
                                <li ng-repeat="task in tasks" class="center" ng-click="taskSelect(task)">
                                    <span class="task-icon">{{task.task_type === "Chore" ? "C" : "$"}}</span>
                                    <p>{{task.task_name}}</p>
                                    <p>{{task.task_due_date}}</p>
                                    <!--<button class="btn btn-submit" ng-model= "completeTaskButton" ng-click="completeTask(task.task_id)">Task Complete</button>-->
                                </li>
                                </ul>
                            </div>
                        </div>
                    </row>

                    <row>
                        <div id="create-task" class ="feed-column">
                            <div class="headline">
                                <h3>Create a task</h3>
                            </div>
                            
                            <form name="createTaskForm" ng-submit="addTask()" >
                                <div class="form-group">
                                    <div ng-repeat="assignee in assignees" class="selectedHousemate" id="{{assignee.email}}">
                                        <p> {{ determineDisplayName(assignee) }} </p>
                                        <button type="button" class="btn btn-warning" ng-click="removeAssignee(assignee)">REMOVE</button>
                                    </div>
                                    <label for="taskOwner">Assign to:</label>
                                    <select class="form-control" ng-model="currentHousemate" ng-change="addAssignee(currentHousemate)" required>
                                        <option value="">Select Roommate</option>
                                        <option ng-repeat="housemate in housemates" value="{{housemate}}">{{housemate.displayName}}</option>
                                        <option ng-repeat="responsibilibuddy in responsibilityGroups.data" value="{{responsibilibuddy}}">{{responsibilibuddy.group_name}}</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="taskName">Task name</label>
                                    <input class="form-control" placeholder="Task name" ng-model="taskName" required>
                                </div>
                                <div class="form-group">
                                    <label for="taskType">Task Type (required)</label>
                                    <select class="form-control" placeholder="Choose a type of task" ng-model="selectedTaskType" ng-change="chooseTaskType()" required>
                                        <option>Bill</option>
                                        <option>Chore</option>
                                    </select>
                                </div>
                                <div class="input-group" ng-show="showBillForm">
                                    <label for="billAmount">Bill Amount</label>
                                    <div class="input-group-addon">$</div>
                                    <input type="text" class="form-control" id="billAmount" placeholder="Amount" ng-model="billAmount">
                                    <div class="input-group-addon">.00</div>
                                </div>
                                <div class="form-group" ng-show="showChoreForm">
                                    <label for="chorePriority">Chore Priority</label>
                                    <input type="text" class="form-control" placeholder="Chore Priority" ng-model="chorePriority">
                                </div>
                                <div class="form-group">
                                    <label for="taskDueDate">Task Due Date</label>
                                    <input type="date" class="form-control" placeholder="Task Due Date" ng-model="taskDueDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="taskDescription">Task Description (optional) </label>
                                    <input class="form-control" placeholder="Task description" ng-model="taskDescription">
                                </div>
                                <input class="btn btn-info" type="submit"></input>
                            </form>
                        </div>
                    </row>
                </div>

                <div id="roommates-overview" ng-show="roomiesOver">
                    <ul id="roommate-list" ng-repeat="housemate in housemates" ng-click="roommateSelect(housemate)">
                        <li><img height="96" width="96" float="left" src="{{housemate.user_pic}}"/><span style="padding-left:25px;font-size:18px">{{housemate.displayName}}</span></li>
                    </ul>
                </div>
                <div id="house-overview" ng-show="houseOver">HOUSE SETTINGS GO HERE</div>
                <div id="account-overview" ng-show="accountOver">ACCOUNT SETTINGS GO HERE</div>
            </div>
            <div id="content-detail" class="col-md-7 col-sm-7 col-xs-7">
                <div id="feed-details" ng-show="feedDeet" class="tasks task-details">
                    <div class="headerWord text-center">
                        <h4>{{selectedTask.task_name}}</h4>
                    </div>

                    <div class ="details">
                        <div class="detailedTask">
                            <b>Task Description:</b>
                            <p>{{selectedTask.task_descr}}</p>
                            <b>Task Created On:</b>
                            <p>{{selectedTask.task_time}}</p>
                            <b>Task Status:</b>
                            <p>{{selectedTask.task_status}}</p>
                            <b>Task Due Date:</b>
                            <p>{{selectedTask.due_date}}</p>
                            <b>Task Type:</b>
                            <p>{{selectedTask.task_type}}</p>
                        </div>
                        <div class="taskComment">
                            <h3>Comments</h3>
                            <span class="existingComment" ng-repeat="comment in comments" >
                                <p>{{comment.comment_owner_id}}</p>
                                <p>{{comment.comment_time}}</p>
                                <p>{{comment.comment_descr}}</p>
                                <button class="btn btn-danger" ng-click="deleteComment(comment)">Delete comment</button>
                            </span>
                            <input type="text" id="commentTextBox" placeholder="Add a comment" ng-model="commentDescription">
                            <input class="btn btn-info" type="submit" ng-click="submitComment()"></input>
                        </div>
                        
                        <div class="createResponsibiltyGroup">
                            <h2>Create a Responsibility Group?</h2>
                            
                            <form ng-submit="createGroup()">
                                <input class="form-control" ng-model="groupName" placeholder="Group Name" name="groupName" required>
                                <input class="form-control" ng-model="groupDescr" placeholder="Write a bit about what this group does or is!" name="groupDescr" required>
                                  
                            <select class="form-control" ng-model="currentHousemate" ng-change="addAssigneeToGroup(currentHousemate)" required>
                                <option value="">Select Roommate or Responsibility Group</option>
                                <option ng-repeat="housemate in housemates" value="{{housemate}}">{{housemate.displayName}}</option>
                            </select>
                                <button class="btn btn-primary">CREATE GROUP</button>
                            </form>
                        </div>
                        <!--<form>
                    <div>
                    Assigned To:  
                    <input type="text" name="assignee-name" value="You"><br>
                    </div>
                    <div>
                    Assigned By:  
                    <input type="text" name="assigner-name" value="Housemate McGee"><br><br>
                    </div>
                    <div>
                    Due Date:  
                    <input type="date" name="due-date" value="2016-05-15"><br>
                    </div>
                    <div>
                    Assigned On:  
                    <input type="date" name="made-date" value="2016-05-10"><br><br>
                    </div>
                    <div>
                    Priority:  
                    <input type="number" name="priority" value="5"><br>
                    </div>
                    <div>
                    Time Left:<br>
                    <input type="text" name="time-left" value="4 days 20 hrs"><br><br><br>
                    </div>
                    
                    Details
                    <div>
                        This bill is for <b>everyone</b>.  <b>Housemate B</b> collects rent, and you can send him a payment on Venmo <a href="payvenyo">here.</a>   
                    </div>
                    <input type="submit" value="Confirm Bill Paid">
                </form>-->
                </div>
                </div>
            <div id="roommates-detail" ng-show="roomiesDeet">
                <div>
                    <img height="384" width="384" float="left" src="{{selectedHousemate.user_pic}}"/>
                </div>
                <div>
                    <b>Name</b>
                    <p>{{selectedHousemate.displayName}}</p>
                    <b>Email</b>
                    <p>{{selectedHousemate.email}}</p>
                    <b>Phone Number</b>
                    <p>{{selectedHousemate.phone_num === null ? "N/A" : selectedHousemate.phone_num}}</p>
                </div>
            </div>
            <div id="house-detail" ng-show="houseDeet">HOUSE SETTINGS OTHER GO HERE</div>
            <div id="sccount-detail" ng-show="accountDeet">MORE ACCOUNT SETTINGS GO HERE</div>
        </row>  
    </div>


		
	
</body>

</html>